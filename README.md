# Яндекс.Диск Синхронизатор

Программа для автоматической синхронизации локальной папки с Яндекс.Диском.

## Описание

Эта программа обеспечивает автоматическую одностороннюю синхронизацию указанной локальной папки на вашем компьютере с папкой на Яндекс.Диске.
Она использует API Яндекс.Диска для отслеживания изменений в дирректории компьютера и обеспечивает её постоянную синхронизацию с дирректорией на Яндекс Диске.

## Возможности

*   **Односторонняя синхронизация:** Изменения, сделанные в локальной папке автоматически отражаются на Яндекс.Диске.
*   **Автоматическое отслеживание изменений:** Программа постоянно отслеживает изменения в файлах (добавление, удаление, изменение) и синхронизирует их.
*   **Фоновый режим работы:** Синхронизация происходит в фоновом режиме, не мешая вашей работе.
*   **Настройка интервала синхронизации:** Возможность задать интервал времени, через который программа будет проверять изменения.
*   **Логирование:**  Ведение журнала операций синхронизации для отслеживания работы программы и выявления возможных проблем.
*   **Поддержка больших файлов:** Оптимизированная работа с большими файлами для эффективной синхронизации.

## Требования

*   Python 3.12
*   Установленные библиотеки:
    *   certifi==2025.1.31
    *   charset-normalizer==3.4.1
    *   dotenv==0.9.9
    *   idna==3.10
    *   loguru==0.7.3
    *   python-dotenv==1.1.0
    *   requests==2.32.3
    *   urllib3==2.4.0

## Установка

1.  Установите Python 3.12.
2.  Клонируйте репозиторий:

    ```bash
    git clone https://github.com/kiiikolay/CloudProd.git
    cd <название_папки_репозитория>
    ```

3.  Установите необходимые библиотеки:

    ```bash
    pip install -r requirements.txt
    ```

## Настройка

1.  **Получение токена Яндекс.Диска:**

    *   Перейдите по ссылке:  [https://oauth.yandex.ru/authorize?response\_type=token&client\_id=<ID вашего приложения>](https://oauth.yandex.ru/authorize?response_type=token&client_id=<ID вашего приложения>)
        *   Замените `<ID вашего приложения>` на ID вашего приложения, зарегистрированного в Яндекс.OAuth.  (Если у вас еще нет приложения, создайте его в [Яндекс.OAuth](https://oauth.yandex.ru/))
    *   Предоставьте приложению необходимые права доступа к Яндекс.Диску.
    *   Скопируйте полученный токен.

2.  **Конфигурационный файл (`.env`):**

    Создайте файл `.env` в корневой папке проекта со следующим содержимым, заменив значения на свои:

    ```yaml
    yandex_disk_token: "YOUR_YANDEX_DISK_TOKEN"
    local_folder: "/path/to/your/local/folder"
    remote_folder: "/path/to/your/remote/folder/on/yandexdisk"  # Относительно корневой папки Яндекс.Диска
    sync_interval: 60  # Интервал синхронизации в секундах
    exclude_patterns:
      - ".*\.tmp$"
      - ".*\.swp$"
      - "node_modules/"
    ```

    *   `yandex_disk_token`:  Токен, полученный на предыдущем шаге.
    *   `local_folder`:  Путь к локальной папке, которую нужно синхронизировать.
    *   `remote_folder`:  Путь к папке на Яндекс.Диске, с которой будет происходить синхронизация.  (Например, `/MySyncFolder`).  Путь указывается относительно корневой папки вашего Яндекс.Диска.
    *   `sync_interval`: Интервал в секундах, через который программа проверяет наличие изменений.
    *   `exclude_patterns`:  Список регулярных выражений для исключения файлов и папок из синхронизации.

## Запуск

Запустите программу из командной строки:

```bash
python cycle.py

Использование
После запуска программа начнет синхронизировать указанную локальную папку с Яндекс.Диском в фоновом режиме. Вы можете изменять файлы в любой из папок, и изменения будут автоматически перенесены в другую папку в соответствии с заданным интервалом синхронизации.

Обработка ошибок
Программа ведет журнал ошибок и предупреждений в файле log.json. В случае возникновения проблем, изучите этот файл для получения дополнительной информации.
